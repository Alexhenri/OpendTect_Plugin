<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>OpendTect-6_4: SafeFileIO Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="od_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpendTect-6_4
   &#160;<span id="projectnumber">6.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classSafeFileIO-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SafeFileIO Class Reference<div class="ingroups"><a class="el" href="group__Basic.html">Basic</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Protects file IO when you can't afford to have partly written things after write errors or have a file garbled by multiple access.  
 <a href="classSafeFileIO.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1b06c53fa978e4c690b2b39960e7cd87"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a1b06c53fa978e4c690b2b39960e7cd87">SafeFileIO</a> (const char *, bool locked=false)</td></tr>
<tr class="separator:a1b06c53fa978e4c690b2b39960e7cd87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a807abd9c29b6be0fb9b80c408c395d8f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a807abd9c29b6be0fb9b80c408c395d8f">~SafeFileIO</a> ()</td></tr>
<tr class="separator:a807abd9c29b6be0fb9b80c408c395d8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34b4ce32ffe0dcde7f3a843267ca72cb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a34b4ce32ffe0dcde7f3a843267ca72cb">open</a> (bool forread, bool ignorelock=false)</td></tr>
<tr class="separator:a34b4ce32ffe0dcde7f3a843267ca72cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19d16bbe0a12d3f57453214648ae6df5"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a19d16bbe0a12d3f57453214648ae6df5">errMsg</a> () const </td></tr>
<tr class="separator:a19d16bbe0a12d3f57453214648ae6df5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88b8d1c1f426b7d7e0eca16d6866897f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classod__istream.html">od_istream</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a88b8d1c1f426b7d7e0eca16d6866897f">istrm</a> ()</td></tr>
<tr class="separator:a88b8d1c1f426b7d7e0eca16d6866897f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae711136945a512574d3804abaf5a4461"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classod__ostream.html">od_ostream</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#ae711136945a512574d3804abaf5a4461">ostrm</a> ()</td></tr>
<tr class="separator:ae711136945a512574d3804abaf5a4461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcfd3f7e3a60ff67ab0374f2297360de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#abcfd3f7e3a60ff67ab0374f2297360de">closeFail</a> (bool keeplock=false)</td></tr>
<tr class="separator:abcfd3f7e3a60ff67ab0374f2297360de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5df8326de404846a6117aba4a221963a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a5df8326de404846a6117aba4a221963a">closeSuccess</a> (bool keeplock=false)</td></tr>
<tr class="separator:a5df8326de404846a6117aba4a221963a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a138c7773d6b9e86f12e6c5572feae401"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a138c7773d6b9e86f12e6c5572feae401">fileName</a> () const </td></tr>
<tr class="separator:a138c7773d6b9e86f12e6c5572feae401"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95769ff254928c87fccc0fe2888adc89"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a95769ff254928c87fccc0fe2888adc89">remove</a> ()</td></tr>
<tr class="separator:a95769ff254928c87fccc0fe2888adc89"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a94bf543ea6e73056f6826e74de5406a8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a94bf543ea6e73056f6826e74de5406a8">usebakwhenmissing_</a></td></tr>
<tr class="memdesc:a94bf543ea6e73056f6826e74de5406a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">default=true  <a href="#a94bf543ea6e73056f6826e74de5406a8">More...</a><br /></td></tr>
<tr class="separator:a94bf543ea6e73056f6826e74de5406a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dbcc08e2d3b8e7033d6343d6e77dd7c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a2dbcc08e2d3b8e7033d6343d6e77dd7c">removebakonsuccess_</a></td></tr>
<tr class="memdesc:a2dbcc08e2d3b8e7033d6343d6e77dd7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">default=false  <a href="#a2dbcc08e2d3b8e7033d6343d6e77dd7c">More...</a><br /></td></tr>
<tr class="separator:a2dbcc08e2d3b8e7033d6343d6e77dd7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a663a04091b3b88cdf13fdae2b27dfa34"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a663a04091b3b88cdf13fdae2b27dfa34">lockretries_</a></td></tr>
<tr class="memdesc:a663a04091b3b88cdf13fdae2b27dfa34"><td class="mdescLeft">&#160;</td><td class="mdescRight">default=10  <a href="#a663a04091b3b88cdf13fdae2b27dfa34">More...</a><br /></td></tr>
<tr class="separator:a663a04091b3b88cdf13fdae2b27dfa34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96eaa4fe7f92b066a65f146c4e930953"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a96eaa4fe7f92b066a65f146c4e930953">lockwaitincr_</a></td></tr>
<tr class="memdesc:a96eaa4fe7f92b066a65f146c4e930953"><td class="mdescLeft">&#160;</td><td class="mdescRight">default=0.5 (seconds)  <a href="#a96eaa4fe7f92b066a65f146c4e930953">More...</a><br /></td></tr>
<tr class="separator:a96eaa4fe7f92b066a65f146c4e930953"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeee80e7be0882999b2d7ab2493a3cb42"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#aeee80e7be0882999b2d7ab2493a3cb42">allowlockremove_</a></td></tr>
<tr class="separator:aeee80e7be0882999b2d7ab2493a3cb42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a68ddada07e1ba9ba91eec3d161f470f1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a68ddada07e1ba9ba91eec3d161f470f1">openRead</a> (bool)</td></tr>
<tr class="separator:a68ddada07e1ba9ba91eec3d161f470f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23b4666a6744c1a89d74a46fe085a5d0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a23b4666a6744c1a89d74a46fe085a5d0">openWrite</a> (bool)</td></tr>
<tr class="separator:a23b4666a6744c1a89d74a46fe085a5d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29991e34006f428a43b25b7d033c88eb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a29991e34006f428a43b25b7d033c88eb">commitWrite</a> ()</td></tr>
<tr class="separator:a29991e34006f428a43b25b7d033c88eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc7e6cc116d75626aa139897f1ab1c4f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#adc7e6cc116d75626aa139897f1ab1c4f">doClose</a> (bool, bool)</td></tr>
<tr class="separator:adc7e6cc116d75626aa139897f1ab1c4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86299f48119c6625be7aca846c6d75c3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a86299f48119c6625be7aca846c6d75c3">haveLock</a> () const </td></tr>
<tr class="separator:a86299f48119c6625be7aca846c6d75c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c24687fb65cad3efdc1fe2f34de2daa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a1c24687fb65cad3efdc1fe2f34de2daa">waitForLock</a> () const </td></tr>
<tr class="separator:a1c24687fb65cad3efdc1fe2f34de2daa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a620292e82e9ac94a0d221c638f47e361"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a620292e82e9ac94a0d221c638f47e361">mkLock</a> (bool)</td></tr>
<tr class="separator:a620292e82e9ac94a0d221c638f47e361"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af19caad1d21f2c76d54c15734ae8f267"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#af19caad1d21f2c76d54c15734ae8f267">rmLock</a> ()</td></tr>
<tr class="separator:af19caad1d21f2c76d54c15734ae8f267"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a90b74cc5c480618c3a90f157f1376ae3"><td class="memItemLeft" align="right" valign="top">const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a90b74cc5c480618c3a90f157f1376ae3">locked_</a></td></tr>
<tr class="separator:a90b74cc5c480618c3a90f157f1376ae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07292377d4a7ee5b5ad1152393680100"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classBufferString.html">BufferString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a07292377d4a7ee5b5ad1152393680100">filenm_</a></td></tr>
<tr class="separator:a07292377d4a7ee5b5ad1152393680100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a257a1ac2ac5577e763cc2f00622faadb"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classBufferString.html">BufferString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a257a1ac2ac5577e763cc2f00622faadb">lockfnm_</a></td></tr>
<tr class="separator:a257a1ac2ac5577e763cc2f00622faadb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19bebdb1cd66737586369b84dccac000"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classBufferString.html">BufferString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a19bebdb1cd66737586369b84dccac000">bakfnm_</a></td></tr>
<tr class="separator:a19bebdb1cd66737586369b84dccac000"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ff1790b1ba3d40c2928669e0e199aa3"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classBufferString.html">BufferString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a5ff1790b1ba3d40c2928669e0e199aa3">newfnm_</a></td></tr>
<tr class="separator:a5ff1790b1ba3d40c2928669e0e199aa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8473daed9463c7fc141cb3d5de2f5dc2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBufferString.html">BufferString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a8473daed9463c7fc141cb3d5de2f5dc2">errmsg_</a></td></tr>
<tr class="separator:a8473daed9463c7fc141cb3d5de2f5dc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a764f76623316e15277468c7f0899cf2b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classod__stream.html">od_stream</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSafeFileIO.html#a764f76623316e15277468c7f0899cf2b">strm_</a></td></tr>
<tr class="separator:a764f76623316e15277468c7f0899cf2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Protects file IO when you can't afford to have partly written things after write errors or have a file garbled by multiple access. </p>
<p>Use the locking only when multiple processes can concurrently write to the same file. For most purposes, you won't need the locking, which is kind of expensive, too.</p>
<p>Note that you can either read or write the file, not both at the same time. At the end, one of <a class="el" href="classSafeFileIO.html#abcfd3f7e3a60ff67ab0374f2297360de">closeFail()</a> or <a class="el" href="classSafeFileIO.html#a5df8326de404846a6117aba4a221963a">closeSuccess()</a> is absolutely mandatory. Thus, when something goes wrong during writing, use <a class="el" href="classSafeFileIO.html#abcfd3f7e3a60ff67ab0374f2297360de">closeFail()</a>, otherwise use <a class="el" href="classSafeFileIO.html#a5df8326de404846a6117aba4a221963a">closeSuccess()</a>. For writing, these do different things, and <a class="el" href="classSafeFileIO.html#a5df8326de404846a6117aba4a221963a">closeSuccess()</a> can fail.</p>
<p>When you write, you write to a new file, which will be renamed to the target filename on success (after the previous version is renamed to .bak). Note that success during writing (i.e. the integrity of the newly written file) is something you determine yourself.</p>
<p>When you use locking, you sometimes need to re-read the original file before writing. In that case, you need to keep the lock that was made for the reading. There is where you want to use the 'ignorelock' and 'keeplock' flags. Otherwise, don't specify these. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1b06c53fa978e4c690b2b39960e7cd87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SafeFileIO::SafeFileIO </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>locked</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a807abd9c29b6be0fb9b80c408c395d8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SafeFileIO::~SafeFileIO </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="abcfd3f7e3a60ff67ab0374f2297360de"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SafeFileIO::closeFail </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>keeplock</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5df8326de404846a6117aba4a221963a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SafeFileIO::closeSuccess </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>keeplock</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a29991e34006f428a43b25b7d033c88eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SafeFileIO::commitWrite </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="adc7e6cc116d75626aa139897f1ab1c4f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SafeFileIO::doClose </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a19d16bbe0a12d3f57453214648ae6df5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* SafeFileIO::errMsg </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a138c7773d6b9e86f12e6c5572feae401"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* SafeFileIO::fileName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a86299f48119c6625be7aca846c6d75c3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SafeFileIO::haveLock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a88b8d1c1f426b7d7e0eca16d6866897f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classod__istream.html">od_istream</a>&amp; SafeFileIO::istrm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a620292e82e9ac94a0d221c638f47e361"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SafeFileIO::mkLock </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a34b4ce32ffe0dcde7f3a843267ca72cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SafeFileIO::open </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>forread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ignorelock</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a68ddada07e1ba9ba91eec3d161f470f1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SafeFileIO::openRead </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a23b4666a6744c1a89d74a46fe085a5d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SafeFileIO::openWrite </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae711136945a512574d3804abaf5a4461"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classod__ostream.html">od_ostream</a>&amp; SafeFileIO::ostrm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a95769ff254928c87fccc0fe2888adc89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SafeFileIO::remove </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af19caad1d21f2c76d54c15734ae8f267"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SafeFileIO::rmLock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1c24687fb65cad3efdc1fe2f34de2daa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SafeFileIO::waitForLock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="aeee80e7be0882999b2d7ab2493a3cb42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SafeFileIO::allowlockremove_</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>default=true when true, will remove the lock after retries i.e. we'll assume the lock is phony then this is &ndash;safety but ++robustness </p>

</div>
</div>
<a class="anchor" id="a19bebdb1cd66737586369b84dccac000"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classBufferString.html">BufferString</a> SafeFileIO::bakfnm_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8473daed9463c7fc141cb3d5de2f5dc2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBufferString.html">BufferString</a> SafeFileIO::errmsg_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a07292377d4a7ee5b5ad1152393680100"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classBufferString.html">BufferString</a> SafeFileIO::filenm_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a90b74cc5c480618c3a90f157f1376ae3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const bool SafeFileIO::locked_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a257a1ac2ac5577e763cc2f00622faadb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classBufferString.html">BufferString</a> SafeFileIO::lockfnm_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a663a04091b3b88cdf13fdae2b27dfa34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SafeFileIO::lockretries_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>default=10 </p>

</div>
</div>
<a class="anchor" id="a96eaa4fe7f92b066a65f146c4e930953"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double SafeFileIO::lockwaitincr_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>default=0.5 (seconds) </p>

</div>
</div>
<a class="anchor" id="a5ff1790b1ba3d40c2928669e0e199aa3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classBufferString.html">BufferString</a> SafeFileIO::newfnm_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2dbcc08e2d3b8e7033d6343d6e77dd7c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SafeFileIO::removebakonsuccess_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>default=false </p>

</div>
</div>
<a class="anchor" id="a764f76623316e15277468c7f0899cf2b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classod__stream.html">od_stream</a>* SafeFileIO::strm_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a94bf543ea6e73056f6826e74de5406a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SafeFileIO::usebakwhenmissing_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>default=true </p>

</div>
</div>
</div><!-- contents -->
<hr>
<p>Generated at <script type="text/javascript">document.write(document.lastModified);</script>
 for the <a href="http://www.opendtect.org">OpendTect</a>
seismic interpretation project.
Copyright (C): dGB Beheer B. V. 2019</p></body></html>
